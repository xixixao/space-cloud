// Generated by CoffeeScript 1.6.2
(function() {
  var app, express, passport, port, server, service;

  express = require('express');

  service = require('./service');

  passport = require("passport");

  app = express();

  port = 3333;

  server = app.listen(port, function() {
    return console.log("Express server listening on port %d in '%s' mode", server.address().port, app.settings.env);
  });

  app.configure(function() {
    app.set('port', port);
    app.use(express.cookieParser());
    app.use(express.bodyParser({
      keepExtensions: true
    }));
    app.use(express.methodOverride());
    app.use(express.compress());
    app.use(express.session({
      secret: 'keyboard cat'
    }));
    app.use(passport.initialize());
    return app.use(passport.session());
  });

  app.configure('development', function() {
    return app.use(express.errorHandler());
  });

  app.all('/server-check', function(request, response) {
    return response.send("Cloud running");
  });

  service(app);

}).call(this);
